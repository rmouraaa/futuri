{
  "nbformat": 4,
  "nbformat_minor": 0,
  "metadata": {
    "colab": {
      "provenance": [],
      "authorship_tag": "ABX9TyNGARPumQiKyd3yeJEJDFdi",
      "include_colab_link": true
    },
    "kernelspec": {
      "name": "python3",
      "display_name": "Python 3"
    },
    "language_info": {
      "name": "python"
    },
    "widgets": {
      "application/vnd.jupyter.widget-state+json": {
        "0ef2355dacfe4bdb88f5de76f5d22f18": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "TextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "TextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "TextView",
            "continuous_update": true,
            "description": "Nome:",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_4839f564aa9f45e48039168f71ac065b",
            "placeholder": "Digite o seu nome",
            "style": "IPY_MODEL_9d93f836f57a472087d617401e75f504",
            "value": "Juliano"
          }
        },
        "4839f564aa9f45e48039168f71ac065b": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "9d93f836f57a472087d617401e75f504": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "df1ab4c003c646da854002fc36425586": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "IntTextModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "IntTextModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "IntTextView",
            "continuous_update": false,
            "description": "Idade:",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_fdb915c25e254e7190a2e654ca6b3338",
            "step": 1,
            "style": "IPY_MODEL_b80b23f20a8440209fa352d8a5d881e0",
            "value": 8
          }
        },
        "fdb915c25e254e7190a2e654ca6b3338": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "b80b23f20a8440209fa352d8a5d881e0": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "8ea35060660248db96dba4cc07d6b2fc": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "TextareaModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "TextareaModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "TextareaView",
            "continuous_update": true,
            "description": "D√∫vida:",
            "description_tooltip": null,
            "disabled": false,
            "layout": "IPY_MODEL_dff456fac6554b45971f797d45080be2",
            "placeholder": "Digite sua d√∫vida ou descoberta",
            "rows": null,
            "style": "IPY_MODEL_9ed1653304fc472398cfd5c3077a5c4b",
            "value": "Me explica multiplica√ß√£o de forma divertida"
          }
        },
        "dff456fac6554b45971f797d45080be2": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "9ed1653304fc472398cfd5c3077a5c4b": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "50dbedc8bf954531b101fa4276a94b30": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "success",
            "description": "Enviar",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_271a9f1715f84e248c4c4828312c630f",
            "style": "IPY_MODEL_1686e71b878a403cbc38034eea705bdc",
            "tooltip": ""
          }
        },
        "271a9f1715f84e248c4c4828312c630f": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "1686e71b878a403cbc38034eea705bdc": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        },
        "fc7ba59fb16645609fe9cac9ae985d9b": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ButtonView",
            "button_style": "info",
            "description": "Nova Pergunta",
            "disabled": false,
            "icon": "",
            "layout": "IPY_MODEL_ce0674ae4a5644fb8624e8b0d9b55ed2",
            "style": "IPY_MODEL_8a4dc098177b4fce85e0b010a027863c",
            "tooltip": ""
          }
        },
        "ce0674ae4a5644fb8624e8b0d9b55ed2": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "8a4dc098177b4fce85e0b010a027863c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ButtonStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ButtonStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "button_color": null,
            "font_weight": ""
          }
        }
      }
    }
  },
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/rmouraaa/futuri/blob/main/MIBBYY\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 1,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "cGlMTn0Tgn30",
        "outputId": "a434ab16-7bf3-440a-9bb8-f1cd91ef08d9"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Collecting openai\n",
            "  Downloading openai-0.28.1-py3-none-any.whl (76 kB)\n",
            "\u001b[2K     \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m77.0/77.0 kB\u001b[0m \u001b[31m2.4 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25hCollecting unidecode\n",
            "  Downloading Unidecode-1.3.7-py3-none-any.whl (235 kB)\n",
            "\u001b[2K     \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m235.5/235.5 kB\u001b[0m \u001b[31m9.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25hRequirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (2.31.0)\n",
            "Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from openai) (4.66.1)\n",
            "Requirement already satisfied: aiohttp in /usr/local/lib/python3.10/dist-packages (from openai) (3.8.6)\n",
            "Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/dist-packages (from requests) (3.3.1)\n",
            "Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests) (3.4)\n",
            "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests) (2.0.7)\n",
            "Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests) (2023.7.22)\n",
            "Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp->openai) (23.1.0)\n",
            "Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.10/dist-packages (from aiohttp->openai) (6.0.4)\n",
            "Requirement already satisfied: async-timeout<5.0,>=4.0.0a3 in /usr/local/lib/python3.10/dist-packages (from aiohttp->openai) (4.0.3)\n",
            "Requirement already satisfied: yarl<2.0,>=1.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp->openai) (1.9.2)\n",
            "Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.10/dist-packages (from aiohttp->openai) (1.4.0)\n",
            "Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.10/dist-packages (from aiohttp->openai) (1.3.1)\n",
            "Installing collected packages: unidecode, openai\n",
            "\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n",
            "llmx 0.0.15a0 requires cohere, which is not installed.\n",
            "llmx 0.0.15a0 requires tiktoken, which is not installed.\u001b[0m\u001b[31m\n",
            "\u001b[0mSuccessfully installed openai-0.28.1 unidecode-1.3.7\n"
          ]
        }
      ],
      "source": [
        "!pip install openai unidecode requests"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "#1. Importa√ß√µes necess√°rias\n",
        "\n",
        "from IPython.core.display import display, HTML, clear_output\n",
        "import os\n",
        "import re\n",
        "import openai\n",
        "from config import key_openai, description, giphy_key\n",
        "import ipywidgets as widgets\n",
        "import time\n",
        "from unidecode import unidecode\n",
        "import requests\n",
        "\n",
        "#2. Gerar o prompt\n",
        "\n",
        "def generate_prompt(nome, idade, pergunta):\n",
        "    prompt = (f\"Agora, responda a pergunta do seu aluno, mas lembre-se, ele √© \"\n",
        "              f\"uma crian√ßa. As respostas precisam ser super divertidas, informativas e cheias de emoticons incr√≠veis. \"\n",
        "              f\"Mas principalmente, precisam levar em considera√ß√£o a idade do {nome}, \"\n",
        "              f\"ele tem {idade} anos e quer saber: {pergunta}. Para suas respostas serem mais completas, \"\n",
        "              f\"voc√™ deve indicar entre par√™nteses () uma tag em ingl√™s que ser√° usada para procurar gifs para a sua resposta.\")\n",
        "    return prompt\n",
        "\n",
        "#2.1. Gerar a resposta\n",
        "\n",
        "def ask_openai(prompt):\n",
        "    openai.api_key = key_openai\n",
        "    response = openai.ChatCompletion.create(\n",
        "      model=\"gpt-3.5-turbo\",\n",
        "      messages=[\n",
        "        {\n",
        "          \"role\": \"system\",\n",
        "          \"content\": description\n",
        "        },\n",
        "        {\n",
        "          \"role\": \"user\",\n",
        "          \"content\": prompt\n",
        "        }\n",
        "      ],\n",
        "      temperature=1,\n",
        "      max_tokens=3234,\n",
        "      top_p=1,\n",
        "      frequency_penalty=0,\n",
        "      presence_penalty=0\n",
        "    )\n",
        "    return response.choices[0].message['content']\n",
        "\n",
        "def clean_response(response):\n",
        "    cleaned = re.sub(r'[\\U00010000-\\U0010ffff]', '', response)\n",
        "    cleaned = re.sub(r'\\(.*?\\)', '', cleaned)\n",
        "    return cleaned.strip()\n",
        "\n",
        "def extract_tag(response):\n",
        "    matches = re.findall(r'\\(.*?\\)', response)\n",
        "    return matches[0] if matches else None\n",
        "\n",
        "#3. Tratamento do Nome do Arquivo\n",
        "\n",
        "def format_filename(pergunta):\n",
        "    clean_name = unidecode(pergunta)\n",
        "    clean_name = clean_name.replace(\" \", \"-\")\n",
        "    filename = clean_name[:10] + \".txt\"\n",
        "    return filename\n",
        "\n",
        "#4. Interface do Usu√°rio\n",
        "\n",
        "def on_submit_button_clicked(b):\n",
        "    clear_output()\n",
        "    print(\"Processando sua pergunta... Por favor, aguarde.\")\n",
        "\n",
        "    prompt = generate_prompt(nome_widget.value, idade_widget.value, pergunta_widget.value)\n",
        "    raw_response = ask_openai(prompt)\n",
        "\n",
        "    cleaned_response = clean_response(raw_response)\n",
        "    global content\n",
        "    content = cleaned_response\n",
        "\n",
        "    tag = extract_tag(raw_response)\n",
        "\n",
        "    display_response = re.sub(r'\\(.*?\\)', '', raw_response).strip()\n",
        "\n",
        "    gif_urls = []\n",
        "    if tag:\n",
        "        gif_urls = fetch_gifs(tag)\n",
        "\n",
        "    display_combined_response(display_response, gif_urls)\n",
        "\n",
        "    print(\"\\nQuer fazer outra pergunta?\")\n",
        "    display(retry_button)\n",
        "\n",
        "def display_combined_response(text, gif_urls=[]):\n",
        "    gif_elements = '\\n'.join([f'<img src=\"{url}\" alt=\"GIF relacionado\">' for url in gif_urls])\n",
        "    display_content = f\"{text}<br>{gif_elements}\"\n",
        "    display(HTML(display_content))\n",
        "\n",
        "#5. Buscar GIFs\n",
        "\n",
        "def fetch_gifs(tag, limit=2):\n",
        "    GIPHY_API_URL = f\"https://api.giphy.com/v1/gifs/search?api_key={giphy_key}&q={tag}&limit={limit}\"\n",
        "\n",
        "    response = requests.get(GIPHY_API_URL)\n",
        "    response_data = response.json()\n",
        "\n",
        "    gif_urls = []\n",
        "    for gif_data in response_data.get('data', []):\n",
        "        gif_url = gif_data['images']['fixed_height']['url']\n",
        "        gif_urls.append(gif_url)\n",
        "\n",
        "    return gif_urls\n",
        "\n",
        "#6. Execu√ß√£o\n",
        "\n",
        "def on_retry_button_clicked(b):\n",
        "    collect_responses()\n",
        "\n",
        "def collect_responses():\n",
        "    clear_output()\n",
        "\n",
        "    global nome_widget, idade_widget, pergunta_widget\n",
        "    nome_widget = widgets.Text(value='', placeholder='Digite o seu nome', description='Nome:')\n",
        "    idade_widget = widgets.IntText(value=0, description='Idade:')\n",
        "    pergunta_widget = widgets.Textarea(value='', placeholder='Digite sua d√∫vida ou descoberta', description='D√∫vida:')\n",
        "    submit_button = widgets.Button(description='Enviar', button_style='success')\n",
        "\n",
        "    submit_button.on_click(on_submit_button_clicked)\n",
        "\n",
        "    display(nome_widget, idade_widget, pergunta_widget, submit_button)\n",
        "\n",
        "retry_button = widgets.Button(description='Nova Pergunta', button_style='info')\n",
        "retry_button.on_click(on_retry_button_clicked)\n",
        "\n",
        "collect_responses()\n"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 392,
          "referenced_widgets": [
            "0ef2355dacfe4bdb88f5de76f5d22f18",
            "4839f564aa9f45e48039168f71ac065b",
            "9d93f836f57a472087d617401e75f504",
            "df1ab4c003c646da854002fc36425586",
            "fdb915c25e254e7190a2e654ca6b3338",
            "b80b23f20a8440209fa352d8a5d881e0",
            "8ea35060660248db96dba4cc07d6b2fc",
            "dff456fac6554b45971f797d45080be2",
            "9ed1653304fc472398cfd5c3077a5c4b",
            "50dbedc8bf954531b101fa4276a94b30",
            "271a9f1715f84e248c4c4828312c630f",
            "1686e71b878a403cbc38034eea705bdc",
            "fc7ba59fb16645609fe9cac9ae985d9b",
            "ce0674ae4a5644fb8624e8b0d9b55ed2",
            "8a4dc098177b4fce85e0b010a027863c"
          ]
        },
        "id": "FhTfoOwmgoju",
        "outputId": "f1250e70-638c-428d-8d03-967c49c9852e"
      },
      "execution_count": 3,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Processando sua pergunta... Por favor, aguarde.\n"
          ]
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<IPython.core.display.HTML object>"
            ],
            "text/html": [
              "Oi Juliano! Que legal que voc√™ quer aprender sobre multiplica√ß√£o de uma forma divertida! Vamos l√°!\n",
              "\n",
              "Sabe quando voc√™ ganha um pacote de figurinhas bem grande e voc√™ quer descobrir quantas figurinhas tem no total? A√≠ voc√™ pensa: \"Hum, se eu tenho 10 pacotinhos com 5 figurinhas cada, eu posso juntar tudo assim: 10 x 5\". \n",
              "\n",
              "A multiplica√ß√£o √© justamente essa ideia de agrupar coisas iguais para descobrir o total. √â como se voc√™ tirasse os pacotinhos de figurinhas e colocasse todas as figurinhas em uma mesma pilha!\n",
              "\n",
              "Vamos fazer uma brincadeira? Imagine que voc√™ est√° organizando uma festa com seus amigos e quer dividir as balinhas de uma sacolinha igualmente entre todos. Se voc√™ tiver 4 amigos e 6 balinhas, podemos fazer assim: 4 x 6 = 24. \n",
              "\n",
              "Isso significa que cada amigo vai receber 6 balinhas e, no total, voc√™s v√£o comer 24 balinhas juntos! üç¨üç¨üç¨\n",
              "\n",
              "A multiplica√ß√£o √© muito √∫til, e n√≥s usamos ela em v√°rias situa√ß√µes no nosso dia a dia, como em compras no supermercado, por exemplo. √â uma maneira divertida de fazer contas!\n",
              "\n",
              "Agora, que tal voc√™ tentar resolver algumas continhas de multiplica√ß√£o e me contar o resultado? Tenho certeza que voc√™ vai arrasar! üåü<br><img src=\"https://media3.giphy.com/media/P2Y5CA2lJRmDbUux8T/200.gif?cid=b65749b8qdmpwlghm0bdnwn38adq4b9amdro0ab82x50t749&ep=v1_gifs_search&rid=200.gif&ct=g\" alt=\"GIF relacionado\">\n",
              "<img src=\"https://media4.giphy.com/media/8FxaYF4jKVytcumRS8/200.gif?cid=b65749b8qdmpwlghm0bdnwn38adq4b9amdro0ab82x50t749&ep=v1_gifs_search&rid=200.gif&ct=g\" alt=\"GIF relacionado\">"
            ]
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\n",
            "Quer fazer outra pergunta?\n"
          ]
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "Button(button_style='info', description='Nova Pergunta', style=ButtonStyle())"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "fc7ba59fb16645609fe9cac9ae985d9b"
            }
          },
          "metadata": {}
        }
      ]
    }
  ]
}